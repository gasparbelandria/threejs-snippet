<!DOCTYPE HTML>

<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Three.js</title>
    <style>
        body { margin: 0; }
        canvas { width: 100%; height: 100% }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r73/three.min.js"></script>
</head>

<body>

    <script>
        'use strict';

        var app = app || {};
        var renderer = renderer || {};
        var scene = scene || {};
        var camera = camera || {};
        var geometry = geometry || {};
        var elVector = elVector || {};
        var pointsMaterial = pointsMaterial || {};
        var points = points || {};
        var vertices = vertices || [];
        var line = line || {};
        var App = function (){
            return {
                initialize: function(){
                    app.setRenderer();
                    app.setScene();
                    app.setCamera();
                    app.addScene(camera);
                    app.setGeometry();
                },
                setRenderer: function (){
                    renderer = new THREE.WebGLRenderer();
                    renderer.setSize( window.innerWidth, window.innerHeight );
                    document.body.appendChild( renderer.domElement );
                },
                setScene: function (){
                    scene =  new THREE.Scene();
                },
                setCamera: function(){
                    //field of view, radio, near and far clipping plane
                    //camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
                    camera = new THREE.PerspectiveCamera();
                    camera.position.z = 100;
                },
                setGeometry: function(){
                    geometry = new THREE.Geometry();
                },
                addScene: function(obj){
                    scene.add(obj);
                },
                render: function(obj){
                    renderer.render(obj.scene, obj.camera);
                },
                drawFigure: function(x,y,z){
                    vertices = [[2,7,0],[7,2,0],[12,7,0],[12,17,0],[7,12,0],[2,17,0],[2,7,0]];
                    var long_vertices = vertices.length;
                    var i = 0;
                    var x, y, z;
                    for (; i < long_vertices; i++){
                        x = vertices[i][0];
                        y = vertices[i][1];
                        z = vertices[i][2];
                        elVector = new THREE.Vector3(x,y,z);
                        geometry.vertices.push(elVector);
                    }
                    pointsMaterial = new THREE.PointsMaterial({color:0xFF0000});
                    line = new THREE.Line(geometry, pointsMaterial);
                    app.addScene(line);
                    app.render({scene:scene, camera:camera});
                },
                animation: function(){
                    requestAnimationFrame( app.animation );
                    app.renderModel();
                },
                renderModel: function(){
                    line.rotation.y = line.rotation.y + 0.01;
                    app.render({scene:scene, camera:camera});
                }
            }
        }
        app = new App();
        app.initialize();
        app.drawFigure();
        app.animation();
    </script>
</body>
</html>